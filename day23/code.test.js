import {
  runChallengeA,
  runChallengeB,
  parseInput,
  removeDeadEnds,
} from "./code.js";

const mockInput = parseInput(
  `#.#####################
#.......#########...###
#######.#########.#.###
###.....#.>.>.###.#.###
###v#####.#v#.###.#.###
###.>...#.#.#.....#...#
###v###.#.#.#########.#
###...#.#.#.......#...#
#####.#.#.#######.#.###
#.....#.#.#.......#...#
#.#####.#.#.#########v#
#.#...#...#...###...>.#
#.#.#v#######v###.###v#
#...#.>.#...>.>.#.###.#
#####v#.#.###v#.#.###.#
#.....#...#...#.#.#...#
#.#########.###.#.#.###
#...###...#...#...#.###
###.###.#.###v#####v###
#...#...#.#.>.>.#.>.###
#.###.###.#.###.#.#v###
#.....###...###...#...#
#####################.#`
);

describe("Day 23: runChallengeA", () => {
  it("gets the results", () => {
    const result = runChallengeA(mockInput);
    expect(result).toEqual(94);
  });
});

describe("removeDeadEnds", () => {
  it("works", () => {
    const result = removeDeadEnds(
      parseInput(
        `#.#####################
#.......#########...###
#######.#########.#.###
###...........###.#.###
###.#####.#.#.........#
#####################.#`
      )
    );
    expect(result.map((l) => l.join("")).join("\n"))
      .toEqual(`#.#####################
#.......#########...###
#######.#########.#.###
#######.......###.#.###
#############.........#
#####################.#`);
  });
});

describe("Day 23: runChallengeB", () => {
  it("gets the results", () => {
    const result = runChallengeB(mockInput);
    expect(result).toEqual(154);
  });
});
